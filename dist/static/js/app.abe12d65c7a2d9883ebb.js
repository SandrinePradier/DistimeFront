webpackJsonp([1],{"52f5":function(t,e){},"7zck":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"app"}},[e("v-content",[e("v-container",{attrs:{fluid:""}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},a,!1,function(t){n("p8be")},null,null).exports,o=n("/ocq"),r=n("mtWM"),u=n.n(r).a.create({baseURL:"https://distimegps.herokuapp.com"});u.interceptors.response.use(function(t){return console.log("Response Interceptor",t),t});var i=u,l={name:"welcome",mounted:function(){this.getStatus()},data:function(){return{msg:"Bienvenue sur Distime!",headers:[{text:"Num√©ro de batch",value:"batchName",align:"center",sortable:!0},{text:"Status",value:"status",align:"center",sortable:!0},{text:"Action",value:"action",align:"center"}],batchs:[],id:""}},methods:{getStatus:function(){var t=this;i.get("/").then(function(e){return console.log("calling backend"),t.batchs=e.data.data}).then(function(e){return t.batchs=e.map(function(t){return"to be launched"===t.status||"ToDo"===t.status?(t.action="Lancer",t.show=!0,t.class="otherstatus"):"Done"===t.status?(t.show=!1,t.class="otherstatus"):"InProcess"===t.status&&(t.show=!1,t.class="statusinprocess"),t})}).catch(function(t){return alert("probleme:"+t),t})},launchBatch:function(t){var e=this,n=t.batchName;i.get("/"+n).then(function(t){console.log(t),e.keepAskingServer()})},keepAskingServer:function(){setInterval(this.getStatus(),5e3)}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("v-data-table",{attrs:{headers:t.headers,items:t.batchs},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.batchName))]),t._v(" "),n("td",[n("p",{class:e.item.class},[t._v(t._s(e.item.status))])]),t._v(" "),n("td",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.item.show,expression:"row.item.show"}],on:{click:function(n){t.launchBatch(e.item)}}},[t._v(t._s(e.item.action))])],1)]}}])})],1)},staticRenderFns:[]};var p=n("VU/8")(l,h,!1,function(t){n("52f5")},"data-v-c1dc2604",null).exports;s.default.use(o.a);var d=new o.a({routes:[{path:"/",name:"welcome",component:p}]}),m=n("3EgV"),v=n.n(m);n("7zck"),n("gJtD");s.default.config.productionTip=!1,s.default.use(v.a),new s.default({el:"#app",router:d,components:{App:c},template:"<App/>"})},gJtD:function(t,e){},p8be:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.abe12d65c7a2d9883ebb.js.map